<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="/typing-rally/">
    <title>Free Typing Speed Test & WPM Test Game - TurboType Rally</title>
    <meta name="description" content="Test your typing speed with our free WPM test game. Improve typing accuracy, check words per minute, race friends online. Best typing practice tool for speed training!">
    <meta name="keywords" content="typing speed test, wpm test, typing test, typing game, words per minute, typing practice, typing trainer, typing speed game, free typing test, keyboard speed test, typing accuracy test">
    <link rel="icon" type="image/png" href="assets/images/typing-Rally.png">
    <link rel="apple-touch-icon" href="assets/images/typing-Rally.png">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <!-- Lobby Screen -->
    <section id="lobbyScreen" class="screen active">
        <div class="container">
            <div class="game-header">
                <h1 class="game-title"><img src="assets/images/typing-Rally.png" alt="TurboType Rally" style="width: 80px; height: auto; vertical-align: middle; margin-right: 10px;">TurboType Rally</h1>
                <p class="game-subtitle">Free typing speed test and WPM measurement game!</p>
            </div>

            <div class="lobby-options">
                <div class="option-card">
                    <h2>Solo Game</h2>
                    <p>Practice solo to check your WPM and improve typing accuracy</p>
                    <button id="practiceBtn" class="btn btn-practice">Start Solo Game</button>
                </div>

                <div class="option-card">
                    <h2>Multiplayer Typing Race</h2>
                    <p>Create typing speed competition room and challenge friends</p>
                    <button id="createRoomBtn" class="btn btn-primary">Create Typing Race</button>
                </div>

                <div class="option-card">
                    <h2>Join Typing Game</h2>
                    <p>Enter room code to join live typing speed competition</p>
                    <input type="text" id="roomCodeInput" placeholder="Enter room code (e.g., ABC123)" maxlength="6">
                    <button id="joinRoomBtn" class="btn btn-secondary">Join Room</button>
                </div>

                <div class="option-card">
                    <h2>Leaderboard</h2>
                    <p>View top typing speeds and compete for the best WPM scores</p>
                    <button id="leaderboardBtn" class="btn btn-info">View Rankings</button>
                </div>
            </div>

            <div class="name-input-container">
                <label for="playerNameInput">Your Name:</label>
                <input type="text" id="playerNameInput" placeholder="Enter your name" maxlength="20" value="Player">
            </div>

            <div class="back-home">
                <a href="/" class="home-link">‚Üê Back to InnoviTecho Home</a>
            </div>
        </div>
    </section>

    <!-- Waiting Room Screen -->
    <section id="waitingScreen" class="screen">
        <div class="container">
            <div class="game-header">
                <h1 class="game-title"><img src="assets/images/typing-Rally.png" alt="TurboType Rally" style="width: 40px; height: auto; vertical-align: middle; margin-right: 10px;">TurboType Rally</h1>
                <div class="room-info">
                    <h2>Room Code: <span id="roomCodeDisplay" class="room-code">------</span></h2>
                    <p class="share-text">Share this code with friends to join!</p>
                </div>
            </div>

            <div class="waiting-container">
                <h3>Players in Room (<span id="playerCount">0</span>/4)</h3>
                <div id="playersList" class="players-list"></div>
                
                <div class="waiting-controls">
                    <button id="startRaceBtn" class="btn btn-primary" disabled>Start Race</button>
                    <button id="leaveRoomBtn" class="btn btn-danger">Leave Room</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Countdown Screen -->
    <section id="countdownScreen" class="screen">
        <div class="container">
            <div class="countdown-display">
                <div id="countdownNumber" class="countdown-number">3</div>
                <p class="countdown-text">Get Ready!</p>
            </div>
        </div>
    </section>

    <!-- Racing Screen -->
    <section id="racingScreen" class="screen">
        <div class="container-fluid">
            <div class="race-header">
                <h2><img src="assets/images/typing-Rally.png" alt="TurboType Rally" style="width: 35px; height: auto; vertical-align: middle; margin-right: 8px;">TurboType Rally</h2>
                <div class="race-stats">
                    <span id="raceTimer">0:00</span>
                    <span id="currentWPM">0 WPM</span>
                    <span id="wordsTyped">0 words</span>
                </div>
            </div>

            <!-- Racing Track -->
            <div id="raceTrack" class="race-track">
                <!-- Lanes will be generated dynamically -->
            </div>

            <!-- Typing Area -->
            <div class="typing-area">
                <div class="paragraph-display">
                    <div id="paragraphContainer" class="paragraph-container">
                        <div id="completedText" class="completed-text"></div>
                        <div id="currentText" class="current-text">
                            <span id="currentChar" class="current-char"></span><span id="remainingText" class="remaining-text"></span>
                        </div>
                    </div>
                </div>
                <input type="text" id="typingInput" class="typing-input" placeholder="Start typing..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
                <div class="typing-feedback">
                    <span id="typingFeedback"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- Results Screen -->
    <section id="resultsScreen" class="screen">
        <div class="container">
            <div class="game-header">
                <h1 class="game-title">üèÅ Race Results</h1>
            </div>

            <div class="results-container">
                <div id="resultsList" class="results-list"></div>
                
                <div class="results-controls">
                    <button id="playAgainBtn" class="btn btn-primary">Play Again</button>
                    <button id="backToLobbyBtn" class="btn btn-secondary">Back to Lobby</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Practice Results Screen -->
    <section id="practiceResultsScreen" class="screen">
        <div class="container">
            <div class="game-header">
                <h1 class="game-title">üèÅ Practice Results</h1>
            </div>

            <div class="results-container">
                <div class="practice-stats">
                    <div class="stat-card">
                        <h3>Your Speed</h3>
                        <p class="stat-value" id="practiceWPM">0</p>
                        <p class="stat-label">WPM</p>
                    </div>
                    <div class="stat-card">
                        <h3>Accuracy</h3>
                        <p class="stat-value" id="practiceAccuracy">0</p>
                        <p class="stat-label">%</p>
                    </div>
                    <div class="stat-card">
                        <h3>Time</h3>
                        <p class="stat-value" id="practiceTime">0</p>
                        <p class="stat-label">seconds</p>
                    </div>
                    <div class="stat-card">
                        <h3>Personal Best</h3>
                        <p class="stat-value" id="personalBest">0</p>
                        <p class="stat-label">WPM</p>
                    </div>
                </div>
                
                <div class="results-controls">
                    <button id="practiceAgainBtn" class="btn btn-primary">Practice Again</button>
                    <button id="backToLobbyFromPracticeBtn" class="btn btn-secondary">Back to Lobby</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Toast Notifications -->
    <div id="toast" class="toast"></div>

    <!-- Load Firebase and App Script -->
    <script type="module" src="./app.js"></script>
</body>
</html>
